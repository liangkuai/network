# 数字签名（Digital Signature）

对于一段信息，发送方先使用 Hash 算法生成**摘要**（digest），再使用**自己的私钥**对摘要加密（**生成签名**），生成**数字签名**（signature）。也就是用私钥对校验和加密后的结果。

对于接收方，

- 先使用**发送方的公钥**对数字签名进行解密（**验证签名**），获得摘要1；
- 再对收到的信息内容使用相同的 Hash 算法生成摘要2；
- 对比摘要1和2是否相同。


### 常用摘要算法

- SHA-1，SHA-2 实际上是一系列摘要算法的统称，总共有 6 种，常用的有 SHA224、SHA256、SHA384，分别能够生成 28 字节、32 字节、48 字节的摘要。

### 作用

1. **防止信息内容被攻击者篡改。一旦内容被篡改，两个摘要就不相同。**

2. 确定发送方身份。因为非对称加密方式的公私钥是配对的，只要接收方拿到的公钥是正确的，数字签名能够被解密，就说明信息来自于正确的发送方。（不过这里也是数字签名的问题所在）

### 问题

#### 公钥信任问题
因为接受方想要验证数字签名需要签名方的公钥，而公钥的获取有安全问题（中间人攻击、篡改、伪装）。为了解决数字签名的公钥信任问题就要用到数字证书。
